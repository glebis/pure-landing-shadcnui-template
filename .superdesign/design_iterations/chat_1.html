<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Interface Design</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caprasimo&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --background: hsl(208 100% 97.0588%);
      --foreground: hsl(216.9231 19.1176% 26.6667%);
      --card: hsl(0 0% 100%);
      --card-foreground: hsl(216.9231 19.1176% 26.6667%);
      --popover: hsl(0 0% 100%);
      --popover-foreground: hsl(216.9231 19.1176% 26.6667%);
      --primary: hsl(142.0859 70.5628% 45.2941%);
      --primary-foreground: hsl(0 0% 100%);
      --secondary: hsl(204.0000 93.7500% 93.7255%);
      --secondary-foreground: hsl(215 13.7931% 34.1176%);
      --muted: hsl(220.0000 14.2857% 95.8824%);
      --muted-foreground: hsl(220 8.9362% 46.0784%);
      --accent: hsl(149.2683 80.3922% 90.0000%);
      --accent-foreground: hsl(216.9231 19.1176% 26.6667%);
      --destructive: hsl(0 84.2365% 60.1961%);
      --destructive-foreground: hsl(0 0% 100%);
      --border: hsl(220 13.0435% 90.9804%);
      --input: hsl(220 13.0435% 90.9804%);
      --ring: hsl(142.0859 70.5628% 45.2941%);
      --font-sans: 'DM Sans', sans-serif;
      --font-mono: 'Space Mono', monospace;
      --font-caprasimo: 'Caprasimo', serif;
      --radius: 0.5rem;
    }

    .dark {
      --background: hsl(222.2222 47.3684% 11.1765%);
      --foreground: hsl(216.0000 12.1951% 83.9216%);
      --card: hsl(217.2414 32.5843% 17.4510%);
      --card-foreground: hsl(216.0000 12.1951% 83.9216%);
      --popover: hsl(217.2414 32.5843% 17.4510%);
      --popover-foreground: hsl(216.0000 12.1951% 83.9216%);
      --primary: hsl(158.1132 64.3725% 51.5686%);
      --primary-foreground: hsl(222.2222 47.3684% 11.1765%);
      --secondary: hsl(217.7778 23.0769% 22.9412%);
      --secondary-foreground: hsl(240 5.0279% 64.9020%);
      --muted: hsl(217.2414 32.5843% 17.4510%);
      --muted-foreground: hsl(220 8.9362% 46.0784%);
      --accent: hsl(216.9231 19.1176% 26.6667%);
      --accent-foreground: hsl(240 5.0279% 64.9020%);
      --destructive: hsl(0 84.2365% 60.1961%);
      --destructive-foreground: hsl(222.2222 47.3684% 11.1765%);
      --border: hsl(215 13.7931% 34.1176%);
      --input: hsl(215 13.7931% 34.1176%);
      --ring: hsl(158.1132 64.3725% 51.5686%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-sans);
      background-color: var(--background);
      color: var(--foreground);
      line-height: 1.5;
      padding: 2rem;
    }

    h1 {
      font-family: var(--font-caprasimo), serif !important;
      margin-bottom: 1.5rem;
      font-size: 2.5rem;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .chat-container {
      max-width: 800px;
      margin: 2rem auto;
      background-color: var(--card);
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      overflow: hidden;
    }

    .chat-header {
      padding: 1rem 1.5rem;
      background-color: var(--primary);
      color: var(--primary-foreground);
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .chat-header h2 {
      font-weight: 600;
      font-size: 1.25rem;
    }

    .status-indicator {
      width: 10px;
      height: 10px;
      background-color: #4ade80;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .chat-messages {
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-height: 500px;
      overflow-y: auto;
      background-color: var(--background);
    }

    .message {
      display: flex;
      max-width: 80%;
    }

    .message.manager {
      align-self: flex-start;
    }

    .message.user {
      align-self: flex-end;
      flex-direction: row-reverse;
    }

    .avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      overflow: hidden;
      flex-shrink: 0;
      margin: 0 0.5rem;
      border: 2px solid var(--accent);
    }

    .message.user .avatar {
      border-color: var(--secondary);
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .message-content {
      padding: 0.75rem 1rem;
      border-radius: 1rem;
      position: relative;
    }

    .message.manager .message-content {
      background-color: var(--muted);
      border-top-left-radius: 0;
    }

    .message.user .message-content {
      background-color: var(--primary);
      color: var(--primary-foreground);
      border-top-right-radius: 0;
    }

    .transcribed {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      margin-top: 0.25rem;
      font-size: 0.75rem;
      color: var(--muted-foreground);
      padding-left: 0.5rem;
    }

    .audio-icon {
      width: 12px;
      height: 12px;
    }

    .typing {
      display: inline-block;
      width: 4px;
      height: 16px;
      background-color: currentColor;
      margin-left: 4px;
      animation: blink 1s infinite;
    }

    .chat-input {
      padding: 1rem 1.5rem;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 1rem;
    }

    .input-field {
      flex: 1;
      padding: 0.75rem 1rem;
      border-radius: 1.5rem;
      border: 1px solid var(--border);
      background-color: var(--background);
      color: var(--foreground);
      font-family: var(--font-sans);
      font-size: 0.875rem;
    }

    .send-button {
      background-color: var(--primary);
      color: var(--primary-foreground);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    @keyframes pulse {
      0% {
        transform: scale(0.95);
        opacity: 0.8;
      }
      50% {
        transform: scale(1.05);
        opacity: 1;
      }
      100% {
        transform: scale(0.95);
        opacity: 0.8;
      }
    }

    @keyframes blink {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

    /* Word by word animation */
    .word {
      opacity: 0;
      animation: fadeIn 0.2s forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .chat-container {
        margin: 1rem auto;
      }
      
      .message {
        max-width: 90%;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 0.5rem;
      }
      
      .container {
        padding: 0.5rem;
      }
      
      .chat-header {
        padding: 0.75rem 1rem;
      }
      
      .chat-messages {
        padding: 1rem;
      }
      
      .message {
        max-width: 95%;
      }
      
      .avatar {
        width: 30px;
        height: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Chat Interface Demo</h1>
    <p>This demo showcases a chat interface with typing animation, word-by-word display for manager's notes, and an audio icon with "transcribed" text.</p>
    
    <div class="chat-container">
      <div class="chat-header">
        <div class="status-indicator"></div>
        <h2>Chat with Wanda</h2>
      </div>
      
      <div class="chat-messages" id="chat-messages">
        <!-- Messages will be added here by JavaScript -->
      </div>
      
      <div class="chat-input">
        <input type="text" class="input-field" placeholder="Type your message...">
        <button class="send-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    // Sample messages
    const messages = [
      {
        id: 1,
        content: "Hello! I'm Wanda, your AI assistant. How can I help you today with your project?",
        type: "manager",
        timestamp: new Date()
      },
      {
        id: 2,
        content: "I need help setting up a new React component for my dashboard.",
        type: "user",
        timestamp: new Date()
      },
      {
        id: 3,
        content: "I'd be happy to help with that! Let's start by creating a basic structure for your dashboard component. What specific features do you need in this dashboard?",
        type: "manager",
        timestamp: new Date()
      },
      {
        id: 4,
        content: "I need charts, a summary section, and maybe some notifications.",
        type: "user",
        timestamp: new Date()
      },
      {
        id: 5,
        content: "Great choices! For charts, we could use Chart.js or Recharts. The summary section can be built with cards, and for notifications, we can implement a dropdown menu or a sidebar. Would you like me to show you some code examples?",
        type: "manager",
        timestamp: new Date()
      }
    ];

    const chatMessages = document.getElementById('chat-messages');
    let currentMessageIndex = 0;

    // Function to create a message element
    function createMessageElement(message) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message', message.type);
      
      // Avatar
      const avatarDiv = document.createElement('div');
      avatarDiv.classList.add('avatar');
      const avatarImg = document.createElement('img');
      avatarImg.src = message.type === 'manager' ? 'https://api.dicebear.com/7.x/bottts/svg?seed=wanda' : 'https://api.dicebear.com/7.x/avataaars/svg?seed=user';
      avatarImg.alt = message.type === 'manager' ? 'Wanda' : 'User';
      avatarDiv.appendChild(avatarImg);
      
      // Message content
      const contentDiv = document.createElement('div');
      contentDiv.classList.add('message-content');
      contentDiv.id = `message-${message.id}`;
      
      // If manager message, add transcribed text
      if (message.type === 'manager') {
        const transcribedDiv = document.createElement('div');
        transcribedDiv.classList.add('transcribed');
        
        const audioIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        audioIcon.classList.add('audio-icon');
        audioIcon.setAttribute('viewBox', '0 0 24 24');
        audioIcon.setAttribute('fill', 'none');
        audioIcon.setAttribute('stroke', 'currentColor');
        audioIcon.setAttribute('stroke-width', '2');
        audioIcon.setAttribute('stroke-linecap', 'round');
        audioIcon.setAttribute('stroke-linejoin', 'round');
        
        const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path1.setAttribute('d', 'M12 6L8 10H4v4h4l4 4V6z');
        
        const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path2.setAttribute('d', 'M17 7a5 5 0 0 1 0 10');
        
        audioIcon.appendChild(path1);
        audioIcon.appendChild(path2);
        
        const transcribedText = document.createElement('span');
        transcribedText.textContent = 'transcribed';
        
        transcribedDiv.appendChild(audioIcon);
        transcribedDiv.appendChild(transcribedText);
        
        // Add message content first, then transcribed div
        if (message.type === 'manager') {
          messageDiv.appendChild(avatarDiv);
          const contentWrapper = document.createElement('div');
          contentWrapper.appendChild(contentDiv);
          contentWrapper.appendChild(transcribedDiv);
          messageDiv.appendChild(contentWrapper);
        } else {
          messageDiv.appendChild(contentDiv);
          messageDiv.appendChild(avatarDiv);
        }
      } else {
        if (message.type === 'manager') {
          messageDiv.appendChild(avatarDiv);
        }
        messageDiv.appendChild(contentDiv);
        if (message.type === 'user') {
          messageDiv.appendChild(avatarDiv);
        }
      }
      
      return messageDiv;
    }

    // Function to simulate typing for user messages
    function simulateTyping(message) {
      return new Promise((resolve) => {
        const messageElement = document.getElementById(`message-${message.id}`);
        let i = 0;
        const text = message.content;
        
        const typingInterval = setInterval(() => {
          if (i < text.length) {
            messageElement.textContent = text.substring(0, i + 1);
            i++;
          } else {
            clearInterval(typingInterval);
            resolve();
          }
        }, Math.random() * 50 + 30); // Random delay between 30-80ms per character
      });
    }

    // Function to display manager messages word by word
    function displayWordByWord(message) {
      return new Promise((resolve) => {
        const messageElement = document.getElementById(`message-${message.id}`);
        const words = message.content.split(' ');
        let i = 0;
        
        messageElement.innerHTML = ''; // Clear any existing content
        
        const wordInterval = setInterval(() => {
          if (i < words.length) {
            const wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.textContent = (i > 0 ? ' ' : '') + words[i];
            wordSpan.style.animationDelay = `${i * 0.05}s`;
            messageElement.appendChild(wordSpan);
            i++;
          } else {
            clearInterval(wordInterval);
            setTimeout(resolve, 500); // Wait a bit after the last word
          }
        }, 150); // Speed for word-by-word display
      });
    }

    // Function to display messages with delay
    async function displayMessages() {
      if (currentMessageIndex < messages.length) {
        const message = messages[currentMessageIndex];
        const messageElement = createMessageElement(message);
        chatMessages.appendChild(messageElement);
        
        // Scroll to the bottom
        chatMessages.scrollTop = chatMessages.scrollHeight;
        
        // Simulate typing or word-by-word display
        if (message.type === 'user') {
          await simulateTyping(message);
        } else {
          await displayWordByWord(message);
        }
        
        currentMessageIndex++;
        setTimeout(displayMessages, 1000); // Delay between messages
      }
    }

    // Start displaying messages
    window.onload = () => {
      setTimeout(displayMessages, 500); // Start after a short delay
    };
  </script>
</body>
</html>
